(this.webpackJsonpbc11=this.webpackJsonpbc11||[]).push([[0],{15:function(e,t,n){e.exports={container:"StatisticsBtns_container__3619D",button:"StatisticsBtns_button__2OPaM"}},16:function(e,t,n){e.exports={title:"MainSection_title__1_to2",container:"MainSection_container__wwEsc"}},17:function(e){e.exports=JSON.parse('{"b":[{"name":"today","period":"\u0421\u0435\u0433\u043e\u0434\u043d\u044f","sum":"0.00"},{"name":"week","period":"\u041d\u0435\u0434\u0435\u043b\u044f","sum":"0.00"},{"name":"month","period":"\u041c\u0435\u0441\u044f\u0446","sum":"0.00"}],"c":[{"name":"month","period":"\u041c\u0435\u0441\u044f\u0446","sum":"0.00"}],"a":[{"name":"allTime","period":"\u0412\u0441\u0451 \u0432\u0440\u0435\u043c\u044f","sum":"0.00"}]}')},18:function(e,t,n){e.exports={button:"CategoriesList_button__ikJXE",item:"CategoriesList_item__oZjhJ"}},21:function(e){e.exports=JSON.parse('{"a":[{"title":"\u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b","name":"foods"},{"title":"\u043a\u0438\u043d\u043e","name":"cinema"},{"title":"\u0437\u0434\u043e\u0440\u043e\u0432\u044c\u0435","name":"health"}],"b":[{"title":"\u0437\u0430\u0440\u043f\u043b\u0430\u0442\u0430","name":"salary"},{"title":"\u0431\u043e\u043d\u0443\u0441\u044b","name":"bonus"},{"title":"\u043f\u0440\u0435\u043c\u0438\u044f","name":"prize"}]}')},39:function(e,t,n){},4:function(e,t,n){e.exports={section:"MainInfo_section__2Uybj",mainWrapper:"MainInfo_mainWrapper__3AcJr",titleWrapper:"MainInfo_titleWrapper__1ny8a",item:"MainInfo_item__2yar9",title:"MainInfo_title__3lrQb",currency:"MainInfo_currency__15cvo",sum:"MainInfo_sum__2IotP",btn:"MainInfo_btn__2NbX7"}},89:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),i=n(30),s=n.n(i),r=(n(39),n(20)),o=n.n(r),l=n(31),u=n(13),h=n(9),d=n(5),j=n(6),b=n(8),p=n(7),m=n(14),g=n.n(m);g.a.defaults.baseURL="http://localhost:3004/";var O=function(e){var t=e.transaction,n=e.transType;return g.a.post(n,t).then((function(e){return e.data})).catch((function(e){throw e}))},f=function(e){return g.a.get(e).then((function(e){return e.data})).catch((function(e){throw e}))},y=n.p+"static/media/sprite.b7b926ab.svg",x=n(4),v=n.n(x),C=n(0),_=function(e){var t=e.title,n=e.btnIcon,a=e.options,c=e.handleOpenPageFromMain,i=e.activePage;return Object(C.jsxs)("section",{className:v.a.section,children:[Object(C.jsxs)("div",{className:v.a.mainWrapper,children:[Object(C.jsxs)("div",{className:v.a.titleWrapper,children:[Object(C.jsx)("h2",{className:v.a.title,children:t}),Object(C.jsx)("p",{className:v.a.currency,children:"UAH"})]}),Object(C.jsx)("ul",{className:v.a.list,children:a.map((function(e){var t=e.name,n=e.period,a=e.sum;return Object(C.jsxs)("li",{className:v.a.item,children:[Object(C.jsx)("span",{className:v.a.period,children:n}),Object(C.jsx)("span",{className:v.a.sum,children:a})]},t)}))})]}),Object(C.jsx)("button",{className:v.a.btn,type:"button",onClick:function(){c(i)},children:Object(C.jsx)("svg",{children:Object(C.jsx)("use",{href:y+"#"+n})})})]})},L=function(e){var t=e.type,n=void 0===t?"button":t,a=e.title,c=e.spritePath,i=void 0===c?y:c,s=e.iconId,r=e.name,o=e.className,l=e.cbOnClick;return Object(C.jsx)("button",{className:"button ".concat(o&&o),name:r,type:n,onClick:l,children:a||Object(C.jsx)("svg",{children:Object(C.jsx)("use",{href:i+"#"+s})})})},k=n(15),S=n.n(k),N=function(){return Object(C.jsxs)("div",{className:S.a.container,children:[Object(C.jsx)(L,{className:S.a.button,name:"allCosts",title:"\u0412\u0441\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u044b"}),Object(C.jsx)(L,{className:S.a.button,name:"allIncomes",title:"\u0412\u0441\u0435 \u0434\u043e\u0445\u043e\u0434\u044b"})]})},P=n(16),T=n.n(P),I=function(e){var t=e.children,n=e.title;return Object(C.jsxs)("section",{className:T.a.section,children:[n&&Object(C.jsx)("h1",{className:T.a.title,children:n}),Object(C.jsx)("div",{className:T.a.container,children:t})]})},M=n(17),w=function(e){var t=e.handleOpenPageFromApp;return Object(C.jsxs)(I,{title:"\u0416\u0443\u0440\u043d\u0430\u043b \u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432",children:[Object(C.jsx)(_,{handleOpenPageFromMain:t,btnIcon:"icon-plus",options:M.b,title:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b",activePage:"costs"}),Object(C.jsx)(_,{btnIcon:"icon-plus",options:M.c,title:"\u0414\u043e\u0445\u043e\u0434\u044b",activePage:"incomes",handleOpenPageFromMain:t}),Object(C.jsx)(_,{btnIcon:"icon-navigation-more",options:M.a,title:"\u0411\u0430\u043b\u0430\u043d\u0441",activePage:"balance",handleOpenPageFromMain:t}),Object(C.jsx)(N,{})]})},F=n(34),B=n(32),E=n.n(B),A=(n(80),n(33)),J=n.n(A),G=function(e){var t=e.type,n=void 0===t?"text":t,a=e.title,c=e.placeholder,i=e.name,s=e.value,r=e.cbOnClick,o=void 0===r?null:r,l=e.cbOnChange,u=void 0===l?null:l,h=e.checked,d=void 0===h?null:h;return Object(C.jsxs)("label",{children:[a&&Object(C.jsx)("p",{children:a}),Object(C.jsx)("input",{name:i,type:n,placeholder:c,value:s,onClick:o,onChange:u,checked:d})]})},W=n(18),D=n.n(W),U=function(e){var t=e.name,n=e.title,a=e.deleteCategory,c=e.handleChange,i=e.currCategory;return Object(C.jsxs)("li",{className:D.a.item,children:[Object(C.jsx)(G,{type:"radio",cbOnChange:c,checked:t===i,title:n,name:"category",value:t}),Object(C.jsx)(L,{className:D.a.button,iconId:"icon-edit-pencil"}),Object(C.jsx)(L,{className:D.a.button,iconId:"icon-trash",cbOnClick:function(){a(t)}})]})},H=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={category:""},e.handleSubmit=function(t){t.preventDefault(),(0,e.props.addCategory)({title:e.state.category,name:J.a.generate()})},e.handleChangeCategory=function(t){var n=t.target.value;e.setState({category:n})},e}return Object(j.a)(n,[{key:"render",value:function(){var e=this.props,t=e.categoriesList,n=e.deleteCategory,a=e.handleChange,c=e.currCategory;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("ul",{children:t.map((function(e){var t=e.title,i=e.name;return Object(C.jsx)(U,{title:t,name:i,deleteCategory:n,handleChange:a,currCategory:c},i)}))}),Object(C.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(C.jsx)("input",{type:"text",placeholder:"\u041d\u043e\u0432\u0430\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",name:"category",value:this.state.category,onChange:this.handleChangeCategory}),Object(C.jsx)(L,{title:"Add",type:"submit",className:""})]})]})}}]),n}(a.Component),X=H,z=function(e){var t=e.title,n=e.handleGoBack;return Object(C.jsxs)("header",{children:[Object(C.jsx)(L,{title:"GoBack",cbOnClick:function(e){return n()}}),Object(C.jsx)("h1",{children:t})]})},Q=n(21),R=["isOpenCatlList","categoriesList","isLoading"],Z=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={day:"2021-10-29",time:"16:15",category:"incomes"===e.props.transType?"salary":"foods",sum:"",currency:"UAH",comment:"",isOpenCatlList:!1,isLoading:!1,categoriesList:"costs"===e.props.transType?Q.a:Q.b},e.toggleCatList=function(){e.setState((function(e){return{isOpenCatlList:!e.isOpenCatlList}}))},e.handleChange=function(t){var n=t.target,a=n.name,c=n.value;e.setState(Object(u.a)({},a,c)),"category"===a&&e.setState({isOpenCatlList:!1})},e.handleSubmit=function(t){t.preventDefault();var n=e.state,a=(n.isOpenCatlList,n.categoriesList,n.isLoading,Object(F.a)(n,R)),c=e.props,i=c.addTransaction,s=c.transType,r=c.setError;e.toggleLoader(),O({transaction:a,transType:s}).then((function(e){return i({transaction:e,transType:s})})).catch((function(e){return r(e.message)})).finally((function(){return e.toggleLoader()}))},e.toggleLoader=function(){e.setState({isLoading:!e.state.isLoading})},e.deleteCategory=function(t){console.log(t),e.setState((function(e){return{categoriesList:e.categoriesList.filter((function(e){return e.name!==t}))}}))},e.addCategory=function(t){e.setState((function(e){return{categoriesList:[].concat(Object(h.a)(e.categoriesList),[t])}}))},e}return Object(j.a)(n,[{key:"render",value:function(){var e,t=this,n=this.state,a=n.isOpenCatlList,c=n.day,i=n.time,s=(n.category,n.currency),r=n.sum,o=n.comment,l=n.categoriesList,u=this.props,h=u.transType,d=u.handleGoBack;console.log(l);var j=(null===(e=l.find((function(e){var n=e.name;return t.state.category===n})))||void 0===e?void 0:e.title)||l[0].title;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(z,{handleGoBack:a?this.toggleCatList:d,title:a?"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438":"incomes"===h?"\u0414\u043e\u0445\u043e\u0434\u044b":"\u0420\u0430\u0441\u0445\u043e\u0434\u044b"}),a?Object(C.jsx)(X,{categoriesList:l,handleChange:this.handleChange,currCategory:this.state.category,deleteCategory:this.deleteCategory,addCategory:this.addCategory}):Object(C.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(C.jsx)(L,{type:"submit",title:"Ok"})," ",this.state.isLoading&&Object(C.jsx)(E.a,{type:"Puff",color:"#00BFFF",height:30,width:30,timeout:3e3}),Object(C.jsx)(G,{value:c,title:"\u0414\u0435\u043d\u044c",name:"day",type:"date",cbOnChange:this.handleChange}),Object(C.jsx)(G,{value:i,title:"\u0412\u0440\u0435\u043c\u044f",name:"time",type:"time",cbOnChange:this.handleChange}),Object(C.jsx)(G,{title:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",name:"category",type:"button",value:j,cbOnClick:this.toggleCatList}),Object(C.jsx)(G,{title:"\u0421\u0443\u043c\u043c\u0430",name:"sum",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443",value:r,cbOnChange:this.handleChange}),Object(C.jsx)(G,{title:"\u0412\u0430\u043b\u044e\u0442\u0430",name:"currency",type:"button",value:s}),Object(C.jsx)(G,{value:o,name:"comment",placeholder:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",cbOnChange:this.handleChange})]})]})}}]),n}(a.Component),q=Z,K=(n(89),function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={activePage:"",incomes:[],costs:[],error:null,isLoading:!1},e.setError=function(t){return e.setState({error:t})},e.handleTogglePage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e.setState({activePage:t})},e.addTransaction=function(t){var n=t.transaction,a=t.transType;e.setState((function(e){return Object(u.a)({},a,[].concat(Object(h.a)(e[a]),[n]))}))},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.prev=1,e.next=4,f("costs");case 4:return t=e.sent,this.setState({costs:t}),e.next=8,f("incomes");case 8:n=e.sent,this.setState({incomes:n}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),this.setError(e.t0);case 15:return e.prev=15,this.setState({isLoading:!1}),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[1,12,15,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.activePage,n=e.costs,a=e.incomes,c=e.error,i=e.isLoading;if(c)return Object(C.jsx)("h1",{children:c});if(i)return Object(C.jsx)("h1",{children:"Loading..."});switch(t){case"costs":return Object(C.jsx)(q,{handleGoBack:this.handleTogglePage,transType:"costs",addTransaction:this.addTransaction,setError:this.setError});case"incomes":return Object(C.jsx)(q,{handleGoBack:this.handleTogglePage,transType:"incomes",addTransaction:this.addTransaction,setError:this.setError});case"balance":return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h1",{children:"Balance"}),Object(C.jsx)("ul",{children:[].concat(Object(h.a)(n),Object(h.a)(a)).map((function(e){var t=e.day,n=e.time,a=e.category,c=e.sum,i=e.currency,s=e.id;return Object(C.jsxs)("li",{children:[Object(C.jsx)("span",{children:t}),Object(C.jsx)("span",{children:n}),Object(C.jsx)("span",{children:a}),Object(C.jsx)("span",{children:c}),Object(C.jsx)("span",{children:i})]},s)}))})]});default:return Object(C.jsx)(w,{handleOpenPageFromApp:this.handleTogglePage})}}}]),n}(a.Component)),V=K;s.a.render(Object(C.jsx)(c.a.StrictMode,{children:Object(C.jsx)(V,{})}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.4aa432c7.chunk.js.map